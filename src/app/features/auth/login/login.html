<div class="min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-100 flex items-center justify-center p-4">
  <!-- Container Principal -->
  <div class="w-full max-w-md">
    <!-- Logo/Título -->
    <div class="text-center mb-8">
      <div
        class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl mb-4">
        <lucide-icon [img]="Lock" size="32" class="text-white"></lucide-icon>
      </div>
      <h1 class="text-3xl font-bold text-gray-900 mb-2">Bem-vindo</h1>
      <p class="text-gray-600">Faça login para acessar sua conta</p>
    </div>

    <!-- Formulário de Login -->
    <div class="bg-white rounded-3xl shadow-xl border border-gray-100 p-8">
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="space-y-6">
        <!-- Campo Email -->
        <div class="space-y-2">
          <label for="email" class="block text-sm font-semibold text-gray-700"> E-mail </label>
          <div class="relative">
            <input pInputText id="email" type="email" formControlName="email" placeholder="seu@email.com"
              [invalid]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched" fluid
              class="text-gray-900" />
            <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
              <lucide-icon [img]="User" size="20" class="text-gray-400"></lucide-icon>
            </div>
          </div>
          @if (loginForm.get('email')?.invalid && loginForm.get('email')?.touched) {
          <div class="mt-1">
            @if (loginForm.get('email')?.errors?.['required']) {
            <p-message severity="error" size="small" variant="simple">E-mail é obrigatório</p-message>
            } @else if (loginForm.get('email')?.errors?.['email']) {
            <p-message severity="error" size="small" variant="simple">E-mail inválido</p-message>
            }
          </div>
          }
        </div>

        <!-- Campo Senha -->
        <div class="space-y-2">
          <label for="password" class="block text-sm font-semibold text-gray-700"> Senha </label>
          <p-password formControlName="password" inputId="password" placeholder="••••••••" [feedback]="false"
            [toggleMask]="true" [invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
            fluid />
          @if (loginForm.get('password')?.invalid && loginForm.get('password')?.touched) {
          <div class="mt-1">
            @if (loginForm.get('password')?.errors?.['required']) {
            <p-message severity="error" size="small" variant="simple">Senha é obrigatória</p-message>
            } @else if (loginForm.get('password')?.errors?.['minlength']) {
            <p-message severity="error" size="small" variant="simple">Senha deve ter pelo menos 6 caracteres</p-message>
            }
          </div>
          }
        </div>

        <!-- Lembrar-me -->
        <div class="flex items-center space-x-2">
          <p-checkbox formControlName="rememberMe" inputId="rememberMe" [binary]="true"
            (onChange)="onRememberMeChange($event)" />
          <label for="rememberMe" class="text-sm font-medium text-gray-700 cursor-pointer select-none">
            Lembrar-me
          </label>
        </div>

        <!-- Mensagem de Erro -->
        @if (errorMessage()) {
        <p-message severity="error" [text]="errorMessage() || ''" />
        }

        <!-- Botão de Login -->
        <p-button type="submit" [disabled]="loginForm.invalid || isLoading()" size="large"
          styleClass="!w-full !h-12 !bg-gradient-to-r !from-blue-600 !to-indigo-600 hover:!from-blue-700 hover:!to-indigo-700 disabled:!from-gray-400 disabled:!to-gray-400 !text-white !font-semibold !rounded-xl !shadow-lg disabled:!shadow-none !border-0"
          class="w-full">
          @if (isLoading()) {
          <div class="flex items-center justify-center">
            <app-loading type="spinner" size="sm" [inline]="true" />
            <span class="ml-2">Entrando...</span>
          </div>
          } @else {
          Entrar
          }
        </p-button>

        <!-- Links de Ação -->
        <div class="space-y-4 pt-4">
          <!-- Esqueceu a Senha -->
          <div class="text-center">
            <p-button (click)="onForgotPassword()" [text]="true" size="small"
              styleClass="!text-sm !text-blue-600 hover:!text-blue-700 !font-medium !border-0 !bg-transparent hover:!bg-transparent">
              Esqueceu sua senha?
            </p-button>
          </div>

          <!-- Divisor -->
          <div class="relative">
            <div class="absolute inset-0 flex items-center">
              <div class="w-full border-t border-gray-200"></div>
            </div>
            <div class="relative flex justify-center text-sm">
              <span class="px-4 bg-white text-gray-500">ou</span>
            </div>
          </div>

          <!-- Link para Registro -->
          <div class="text-center">
            <p class="text-sm text-gray-600">
              Não tem uma conta?
              <p-button (click)="onRegister()" [text]="true" size="small"
                styleClass="!text-sm !font-semibold !text-blue-600 hover:!text-blue-700 !ml-1 !p-0 !border-0 !bg-transparent">
                Criar conta
              </p-button>
            </p>
          </div>
        </div>
      </form>
    </div>

    <!-- Footer -->
    <div class="text-center mt-8">
      <p class="text-xs text-gray-500">© 2025 PTL-UI. Todos os direitos reservados.</p>
    </div>
  </div>
</div>